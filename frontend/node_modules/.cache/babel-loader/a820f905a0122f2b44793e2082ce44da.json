{"ast":null,"code":"import { append as svgAppend, attr as svgAttr, create as svgCreate } from 'tiny-svg';\nexport default function TouchFix(canvas, eventBus) {\n  var self = this;\n  eventBus.on('canvas.init', function (e) {\n    self.addBBoxMarker(e.svg);\n  });\n}\nTouchFix.$inject = ['canvas', 'eventBus'];\n/**\n * Safari mobile (iOS 7) does not fire touchstart event in <SVG> element\n * if there is no shape between 0,0 and viewport elements origin.\n *\n * So touchstart event is only fired when the <g class=\"viewport\"> element was hit.\n * Putting an element over and below the 'viewport' fixes that behavior.\n */\n\nTouchFix.prototype.addBBoxMarker = function (svg) {\n  var markerStyle = {\n    fill: 'none',\n    class: 'outer-bound-marker'\n  };\n  var rect1 = svgCreate('rect');\n  svgAttr(rect1, {\n    x: -10000,\n    y: 10000,\n    width: 10,\n    height: 10\n  });\n  svgAttr(rect1, markerStyle);\n  svgAppend(svg, rect1);\n  var rect2 = svgCreate('rect');\n  svgAttr(rect2, {\n    x: 10000,\n    y: 10000,\n    width: 10,\n    height: 10\n  });\n  svgAttr(rect2, markerStyle);\n  svgAppend(svg, rect2);\n};","map":{"version":3,"sources":["C:/Users/Vittorio/Documents/GitHub/SPM2021-MTV/frontend/node_modules/diagram-js/lib/features/touch/TouchFix.js"],"names":["append","svgAppend","attr","svgAttr","create","svgCreate","TouchFix","canvas","eventBus","self","on","e","addBBoxMarker","svg","$inject","prototype","markerStyle","fill","class","rect1","x","y","width","height","rect2"],"mappings":"AAAA,SACEA,MAAM,IAAIC,SADZ,EAEEC,IAAI,IAAIC,OAFV,EAGEC,MAAM,IAAIC,SAHZ,QAIO,UAJP;AAOA,eAAe,SAASC,QAAT,CAAkBC,MAAlB,EAA0BC,QAA1B,EAAoC;AAEjD,MAAIC,IAAI,GAAG,IAAX;AAEAD,EAAAA,QAAQ,CAACE,EAAT,CAAY,aAAZ,EAA2B,UAASC,CAAT,EAAY;AACrCF,IAAAA,IAAI,CAACG,aAAL,CAAmBD,CAAC,CAACE,GAArB;AACD,GAFD;AAGD;AAEDP,QAAQ,CAACQ,OAAT,GAAmB,CAAE,QAAF,EAAY,UAAZ,CAAnB;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAR,QAAQ,CAACS,SAAT,CAAmBH,aAAnB,GAAmC,UAASC,GAAT,EAAc;AAE/C,MAAIG,WAAW,GAAG;AAChBC,IAAAA,IAAI,EAAE,MADU;AAEhBC,IAAAA,KAAK,EAAE;AAFS,GAAlB;AAKA,MAAIC,KAAK,GAAGd,SAAS,CAAC,MAAD,CAArB;AACAF,EAAAA,OAAO,CAACgB,KAAD,EAAQ;AACbC,IAAAA,CAAC,EAAE,CAAC,KADS;AAEbC,IAAAA,CAAC,EAAE,KAFU;AAGbC,IAAAA,KAAK,EAAE,EAHM;AAIbC,IAAAA,MAAM,EAAE;AAJK,GAAR,CAAP;AAMApB,EAAAA,OAAO,CAACgB,KAAD,EAAQH,WAAR,CAAP;AAEAf,EAAAA,SAAS,CAACY,GAAD,EAAMM,KAAN,CAAT;AAEA,MAAIK,KAAK,GAAGnB,SAAS,CAAC,MAAD,CAArB;AACAF,EAAAA,OAAO,CAACqB,KAAD,EAAQ;AACbJ,IAAAA,CAAC,EAAE,KADU;AAEbC,IAAAA,CAAC,EAAE,KAFU;AAGbC,IAAAA,KAAK,EAAE,EAHM;AAIbC,IAAAA,MAAM,EAAE;AAJK,GAAR,CAAP;AAMApB,EAAAA,OAAO,CAACqB,KAAD,EAAQR,WAAR,CAAP;AAEAf,EAAAA,SAAS,CAACY,GAAD,EAAMW,KAAN,CAAT;AACD,CA5BD","sourcesContent":["import {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\n\nexport default function TouchFix(canvas, eventBus) {\n\n  var self = this;\n\n  eventBus.on('canvas.init', function(e) {\n    self.addBBoxMarker(e.svg);\n  });\n}\n\nTouchFix.$inject = [ 'canvas', 'eventBus' ];\n\n\n/**\n * Safari mobile (iOS 7) does not fire touchstart event in <SVG> element\n * if there is no shape between 0,0 and viewport elements origin.\n *\n * So touchstart event is only fired when the <g class=\"viewport\"> element was hit.\n * Putting an element over and below the 'viewport' fixes that behavior.\n */\nTouchFix.prototype.addBBoxMarker = function(svg) {\n\n  var markerStyle = {\n    fill: 'none',\n    class: 'outer-bound-marker'\n  };\n\n  var rect1 = svgCreate('rect');\n  svgAttr(rect1, {\n    x: -10000,\n    y: 10000,\n    width: 10,\n    height: 10\n  });\n  svgAttr(rect1, markerStyle);\n\n  svgAppend(svg, rect1);\n\n  var rect2 = svgCreate('rect');\n  svgAttr(rect2, {\n    x: 10000,\n    y: 10000,\n    width: 10,\n    height: 10\n  });\n  svgAttr(rect2, markerStyle);\n\n  svgAppend(svg, rect2);\n};\n"]},"metadata":{},"sourceType":"module"}