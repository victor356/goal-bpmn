{"ast":null,"code":"import inherits from 'inherits';\nimport EditorActions from 'diagram-js/lib/features/editor-actions/EditorActions';\nimport { filter } from 'min-dash';\nimport { is } from '../../util/ModelUtil';\nimport { getBBox } from 'diagram-js/lib/util/Elements';\n/**\n * Registers and executes BPMN specific editor actions.\n */\n\nexport default function BpmnEditorActions(injector, canvas, elementRegistry, selection, spaceTool, lassoTool, handTool, globalConnect, distributeElements, alignElements, directEditing, searchPad, modeling) {\n  injector.invoke(EditorActions, this);\n  this.register({\n    selectElements: function () {\n      // select all elements except for the invisible\n      // root element\n      var rootElement = canvas.getRootElement();\n      var elements = elementRegistry.filter(function (element) {\n        return element !== rootElement;\n      });\n      selection.select(elements);\n      return elements;\n    },\n    spaceTool: function () {\n      spaceTool.toggle();\n    },\n    lassoTool: function () {\n      lassoTool.toggle();\n    },\n    handTool: function () {\n      handTool.toggle();\n    },\n    globalConnectTool: function () {\n      globalConnect.toggle();\n    },\n    distributeElements: function (opts) {\n      var currentSelection = selection.get(),\n          type = opts.type;\n\n      if (currentSelection.length) {\n        distributeElements.trigger(currentSelection, type);\n      }\n    },\n    alignElements: function (opts) {\n      var currentSelection = selection.get(),\n          aligneableElements = [],\n          type = opts.type;\n\n      if (currentSelection.length) {\n        aligneableElements = filter(currentSelection, function (element) {\n          return !is(element, 'bpmn:Lane');\n        });\n        alignElements.trigger(aligneableElements, type);\n      }\n    },\n    setColor: function (opts) {\n      var currentSelection = selection.get();\n\n      if (currentSelection.length) {\n        modeling.setColor(currentSelection, opts);\n      }\n    },\n    directEditing: function () {\n      var currentSelection = selection.get();\n\n      if (currentSelection.length) {\n        directEditing.activate(currentSelection[0]);\n      }\n    },\n    find: function () {\n      searchPad.toggle();\n    },\n    moveToOrigin: function () {\n      var rootElement = canvas.getRootElement(),\n          boundingBox,\n          elements;\n\n      if (is(rootElement, 'bpmn:Collaboration')) {\n        elements = elementRegistry.filter(function (element) {\n          return is(element.parent, 'bpmn:Collaboration');\n        });\n      } else {\n        elements = elementRegistry.filter(function (element) {\n          return element !== rootElement && !is(element.parent, 'bpmn:SubProcess');\n        });\n      }\n\n      boundingBox = getBBox(elements);\n      modeling.moveElements(elements, {\n        x: -boundingBox.x,\n        y: -boundingBox.y\n      }, rootElement);\n    }\n  });\n}\ninherits(BpmnEditorActions, EditorActions);\nBpmnEditorActions.$inject = ['injector', 'canvas', 'elementRegistry', 'selection', 'spaceTool', 'lassoTool', 'handTool', 'globalConnect', 'distributeElements', 'alignElements', 'directEditing', 'searchPad', 'modeling'];","map":{"version":3,"sources":["C:/Users/Vittorio/Documents/GitHub/SPM2021-MTV/frontend/node_modules/bpmn-js/lib/features/editor-actions/BpmnEditorActions.js"],"names":["inherits","EditorActions","filter","is","getBBox","BpmnEditorActions","injector","canvas","elementRegistry","selection","spaceTool","lassoTool","handTool","globalConnect","distributeElements","alignElements","directEditing","searchPad","modeling","invoke","register","selectElements","rootElement","getRootElement","elements","element","select","toggle","globalConnectTool","opts","currentSelection","get","type","length","trigger","aligneableElements","setColor","activate","find","moveToOrigin","boundingBox","parent","moveElements","x","y","$inject"],"mappings":"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","sourcesContent":["import inherits from 'inherits';\n\nimport EditorActions from 'diagram-js/lib/features/editor-actions/EditorActions';\n\nimport { filter } from 'min-dash';\n\nimport { is } from '../../util/ModelUtil';\n\nimport {\n  getBBox\n} from 'diagram-js/lib/util/Elements';\n\n\n/**\n * Registers and executes BPMN specific editor actions.\n */\nexport default function BpmnEditorActions(\n    injector, canvas, elementRegistry,\n    selection, spaceTool, lassoTool,\n    handTool, globalConnect, distributeElements,\n    alignElements, directEditing, searchPad,\n    modeling) {\n\n  injector.invoke(EditorActions, this);\n\n  this.register({\n    selectElements: function() {\n      // select all elements except for the invisible\n      // root element\n      var rootElement = canvas.getRootElement();\n\n      var elements = elementRegistry.filter(function(element) {\n        return element !== rootElement;\n      });\n\n      selection.select(elements);\n\n      return elements;\n    },\n    spaceTool: function() {\n      spaceTool.toggle();\n    },\n    lassoTool: function() {\n      lassoTool.toggle();\n    },\n    handTool: function() {\n      handTool.toggle();\n    },\n    globalConnectTool: function() {\n      globalConnect.toggle();\n    },\n    distributeElements: function(opts) {\n      var currentSelection = selection.get(),\n          type = opts.type;\n\n      if (currentSelection.length) {\n        distributeElements.trigger(currentSelection, type);\n      }\n    },\n    alignElements: function(opts) {\n      var currentSelection = selection.get(),\n          aligneableElements = [],\n          type = opts.type;\n\n      if (currentSelection.length) {\n        aligneableElements = filter(currentSelection, function(element) {\n          return !is(element, 'bpmn:Lane');\n        });\n\n        alignElements.trigger(aligneableElements, type);\n      }\n    },\n    setColor: function(opts) {\n      var currentSelection = selection.get();\n\n      if (currentSelection.length) {\n        modeling.setColor(currentSelection, opts);\n      }\n    },\n    directEditing: function() {\n      var currentSelection = selection.get();\n\n      if (currentSelection.length) {\n        directEditing.activate(currentSelection[0]);\n      }\n    },\n    find: function() {\n      searchPad.toggle();\n    },\n    moveToOrigin: function() {\n      var rootElement = canvas.getRootElement(),\n          boundingBox,\n          elements;\n\n      if (is(rootElement, 'bpmn:Collaboration')) {\n        elements = elementRegistry.filter(function(element) {\n          return is(element.parent, 'bpmn:Collaboration');\n        });\n      } else {\n        elements = elementRegistry.filter(function(element) {\n          return element !== rootElement && !is(element.parent, 'bpmn:SubProcess');\n        });\n      }\n\n      boundingBox = getBBox(elements);\n\n      modeling.moveElements(elements, { x: -boundingBox.x, y: -boundingBox.y }, rootElement);\n    }\n  });\n}\n\ninherits(BpmnEditorActions, EditorActions);\n\nBpmnEditorActions.$inject = [\n  'injector',\n  'canvas',\n  'elementRegistry',\n  'selection',\n  'spaceTool',\n  'lassoTool',\n  'handTool',\n  'globalConnect',\n  'distributeElements',\n  'alignElements',\n  'directEditing',\n  'searchPad',\n  'modeling'\n];"]},"metadata":{},"sourceType":"module"}