{"ast":null,"code":"import { toPoint } from '../../util/Event';\nimport { getMidPoint, pointsAligned } from '../../util/Geometry';\nimport { append as svgAppend, attr as svgAttr, classes as svgClasses, create as svgCreate } from 'tiny-svg';\nimport { rotate, translate } from '../../util/SvgTransformUtil';\nexport var BENDPOINT_CLS = 'djs-bendpoint';\nexport var SEGMENT_DRAGGER_CLS = 'djs-segment-dragger';\nexport function toCanvasCoordinates(canvas, event) {\n  var position = toPoint(event),\n      clientRect = canvas._container.getBoundingClientRect(),\n      offset; // canvas relative position\n\n\n  offset = {\n    x: clientRect.left,\n    y: clientRect.top\n  }; // update actual event payload with canvas relative measures\n\n  var viewbox = canvas.viewbox();\n  return {\n    x: viewbox.x + (position.x - offset.x) / viewbox.scale,\n    y: viewbox.y + (position.y - offset.y) / viewbox.scale\n  };\n}\nexport function addBendpoint(parentGfx, cls) {\n  var groupGfx = svgCreate('g');\n  svgClasses(groupGfx).add(BENDPOINT_CLS);\n  svgAppend(parentGfx, groupGfx);\n  var visual = svgCreate('circle');\n  svgAttr(visual, {\n    cx: 0,\n    cy: 0,\n    r: 4\n  });\n  svgClasses(visual).add('djs-visual');\n  svgAppend(groupGfx, visual);\n  var hit = svgCreate('circle');\n  svgAttr(hit, {\n    cx: 0,\n    cy: 0,\n    r: 10\n  });\n  svgClasses(hit).add('djs-hit');\n  svgAppend(groupGfx, hit);\n\n  if (cls) {\n    svgClasses(groupGfx).add(cls);\n  }\n\n  return groupGfx;\n}\n\nfunction createParallelDragger(parentGfx, position, alignment) {\n  var draggerGfx = svgCreate('g');\n  svgAppend(parentGfx, draggerGfx);\n  var width = 14,\n      height = 3,\n      padding = 6,\n      hitWidth = width + padding,\n      hitHeight = height + padding;\n  var visual = svgCreate('rect');\n  svgAttr(visual, {\n    x: -width / 2,\n    y: -height / 2,\n    width: width,\n    height: height\n  });\n  svgClasses(visual).add('djs-visual');\n  svgAppend(draggerGfx, visual);\n  var hit = svgCreate('rect');\n  svgAttr(hit, {\n    x: -hitWidth / 2,\n    y: -hitHeight / 2,\n    width: hitWidth,\n    height: hitHeight\n  });\n  svgClasses(hit).add('djs-hit');\n  svgAppend(draggerGfx, hit);\n  rotate(draggerGfx, alignment === 'h' ? 90 : 0, 0, 0);\n  return draggerGfx;\n}\n\nexport function addSegmentDragger(parentGfx, segmentStart, segmentEnd) {\n  var groupGfx = svgCreate('g'),\n      mid = getMidPoint(segmentStart, segmentEnd),\n      alignment = pointsAligned(segmentStart, segmentEnd);\n  svgAppend(parentGfx, groupGfx);\n  createParallelDragger(groupGfx, mid, alignment);\n  svgClasses(groupGfx).add(SEGMENT_DRAGGER_CLS);\n  svgClasses(groupGfx).add(alignment === 'h' ? 'vertical' : 'horizontal');\n  translate(groupGfx, mid.x, mid.y);\n  return groupGfx;\n}","map":{"version":3,"sources":["C:/Users/Vittorio/Documents/GitHub/SPM2021-MTV/frontend/node_modules/bpmn-js/node_modules/diagram-js/lib/features/bendpoints/BendpointUtil.js"],"names":["toPoint","getMidPoint","pointsAligned","append","svgAppend","attr","svgAttr","classes","svgClasses","create","svgCreate","rotate","translate","BENDPOINT_CLS","SEGMENT_DRAGGER_CLS","toCanvasCoordinates","canvas","event","position","clientRect","_container","getBoundingClientRect","offset","x","left","y","top","viewbox","scale","addBendpoint","parentGfx","cls","groupGfx","add","visual","cx","cy","r","hit","createParallelDragger","alignment","draggerGfx","width","height","padding","hitWidth","hitHeight","addSegmentDragger","segmentStart","segmentEnd","mid"],"mappings":"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","sourcesContent":["import {\n  toPoint\n} from '../../util/Event';\n\nimport {\n  getMidPoint,\n  pointsAligned\n} from '../../util/Geometry';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport {\n  rotate,\n  translate\n} from '../../util/SvgTransformUtil';\n\n\nexport var BENDPOINT_CLS = 'djs-bendpoint';\nexport var SEGMENT_DRAGGER_CLS = 'djs-segment-dragger';\n\nexport function toCanvasCoordinates(canvas, event) {\n\n  var position = toPoint(event),\n      clientRect = canvas._container.getBoundingClientRect(),\n      offset;\n\n  // canvas relative position\n\n  offset = {\n    x: clientRect.left,\n    y: clientRect.top\n  };\n\n  // update actual event payload with canvas relative measures\n\n  var viewbox = canvas.viewbox();\n\n  return {\n    x: viewbox.x + (position.x - offset.x) / viewbox.scale,\n    y: viewbox.y + (position.y - offset.y) / viewbox.scale\n  };\n}\n\nexport function addBendpoint(parentGfx, cls) {\n  var groupGfx = svgCreate('g');\n  svgClasses(groupGfx).add(BENDPOINT_CLS);\n\n  svgAppend(parentGfx, groupGfx);\n\n  var visual = svgCreate('circle');\n  svgAttr(visual, {\n    cx: 0,\n    cy: 0,\n    r: 4\n  });\n  svgClasses(visual).add('djs-visual');\n\n  svgAppend(groupGfx, visual);\n\n  var hit = svgCreate('circle');\n  svgAttr(hit, {\n    cx: 0,\n    cy: 0,\n    r: 10\n  });\n  svgClasses(hit).add('djs-hit');\n\n  svgAppend(groupGfx, hit);\n\n  if (cls) {\n    svgClasses(groupGfx).add(cls);\n  }\n\n  return groupGfx;\n}\n\nfunction createParallelDragger(parentGfx, position, alignment) {\n  var draggerGfx = svgCreate('g');\n\n  svgAppend(parentGfx, draggerGfx);\n\n  var width = 14,\n      height = 3,\n      padding = 6,\n      hitWidth = width + padding,\n      hitHeight = height + padding;\n\n  var visual = svgCreate('rect');\n  svgAttr(visual, {\n    x: -width / 2,\n    y: -height / 2,\n    width: width,\n    height: height\n  });\n  svgClasses(visual).add('djs-visual');\n\n  svgAppend(draggerGfx, visual);\n\n  var hit = svgCreate('rect');\n  svgAttr(hit, {\n    x: -hitWidth / 2,\n    y: -hitHeight / 2,\n    width: hitWidth,\n    height: hitHeight\n  });\n  svgClasses(hit).add('djs-hit');\n\n  svgAppend(draggerGfx, hit);\n\n  rotate(draggerGfx, alignment === 'h' ? 90 : 0, 0, 0);\n\n  return draggerGfx;\n}\n\n\nexport function addSegmentDragger(parentGfx, segmentStart, segmentEnd) {\n\n  var groupGfx = svgCreate('g'),\n      mid = getMidPoint(segmentStart, segmentEnd),\n      alignment = pointsAligned(segmentStart, segmentEnd);\n\n  svgAppend(parentGfx, groupGfx);\n\n  createParallelDragger(groupGfx, mid, alignment);\n\n  svgClasses(groupGfx).add(SEGMENT_DRAGGER_CLS);\n  svgClasses(groupGfx).add(alignment === 'h' ? 'vertical' : 'horizontal');\n\n  translate(groupGfx, mid.x, mid.y);\n\n  return groupGfx;\n}\n"]},"metadata":{},"sourceType":"module"}