{"ast":null,"code":"import BpmnTreeWalker from './BpmnTreeWalker';\nimport { isFunction } from 'min-dash';\n/**\n * Import the definitions into a diagram.\n *\n * Errors and warnings are reported through the specified callback.\n *\n * @param  {djs.Diagram} diagram\n * @param  {ModdleElement<Definitions>} definitions\n * @param  {ModdleElement<BPMNDiagram>} [bpmnDiagram] the diagram to be rendered\n * (if not provided, the first one will be rendered)\n * @param  {Function} done the callback, invoked with (err, [ warning ]) once the import is done\n */\n\nexport function importBpmnDiagram(diagram, definitions, bpmnDiagram, done) {\n  if (isFunction(bpmnDiagram)) {\n    done = bpmnDiagram;\n    bpmnDiagram = null;\n  }\n\n  var importer, eventBus, translate;\n  var error,\n      warnings = [];\n  /**\n   * Walk the diagram semantically, importing (=drawing)\n   * all elements you encounter.\n   *\n   * @param {ModdleElement<Definitions>} definitions\n   * @param {ModdleElement<BPMNDiagram>} bpmnDiagram\n   */\n\n  function render(definitions, bpmnDiagram) {\n    var visitor = {\n      root: function (element) {\n        return importer.add(element);\n      },\n      element: function (element, parentShape) {\n        return importer.add(element, parentShape);\n      },\n      error: function (message, context) {\n        warnings.push({\n          message: message,\n          context: context\n        });\n      }\n    };\n    var walker = new BpmnTreeWalker(visitor, translate); // traverse BPMN 2.0 document model,\n    // starting at definitions\n\n    walker.handleDefinitions(definitions, bpmnDiagram);\n  }\n\n  try {\n    importer = diagram.get('bpmnImporter');\n    eventBus = diagram.get('eventBus');\n    translate = diagram.get('translate');\n    eventBus.fire('import.render.start', {\n      definitions: definitions\n    });\n    render(definitions, bpmnDiagram);\n    eventBus.fire('import.render.complete', {\n      error: error,\n      warnings: warnings\n    });\n  } catch (e) {\n    error = e;\n  }\n\n  done(error, warnings);\n}","map":{"version":3,"sources":["C:/Users/Vittorio/Documents/GitHub/SPM2021-MTV/frontend/node_modules/bpmn-js/lib/import/Importer.js"],"names":["BpmnTreeWalker","isFunction","importBpmnDiagram","diagram","definitions","bpmnDiagram","done","importer","eventBus","translate","error","warnings","render","visitor","root","element","add","parentShape","message","context","push","walker","handleDefinitions","get","fire","e"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,kBAA3B;AAEA,SACEC,UADF,QAEO,UAFP;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,iBAAT,CAA2BC,OAA3B,EAAoCC,WAApC,EAAiDC,WAAjD,EAA8DC,IAA9D,EAAoE;AAEzE,MAAIL,UAAU,CAACI,WAAD,CAAd,EAA6B;AAC3BC,IAAAA,IAAI,GAAGD,WAAP;AACAA,IAAAA,WAAW,GAAG,IAAd;AACD;;AAED,MAAIE,QAAJ,EACIC,QADJ,EAEIC,SAFJ;AAIA,MAAIC,KAAJ;AAAA,MACIC,QAAQ,GAAG,EADf;AAGA;AACF;AACA;AACA;AACA;AACA;AACA;;AACE,WAASC,MAAT,CAAgBR,WAAhB,EAA6BC,WAA7B,EAA0C;AAExC,QAAIQ,OAAO,GAAG;AAEZC,MAAAA,IAAI,EAAE,UAASC,OAAT,EAAkB;AACtB,eAAOR,QAAQ,CAACS,GAAT,CAAaD,OAAb,CAAP;AACD,OAJW;AAMZA,MAAAA,OAAO,EAAE,UAASA,OAAT,EAAkBE,WAAlB,EAA+B;AACtC,eAAOV,QAAQ,CAACS,GAAT,CAAaD,OAAb,EAAsBE,WAAtB,CAAP;AACD,OARW;AAUZP,MAAAA,KAAK,EAAE,UAASQ,OAAT,EAAkBC,OAAlB,EAA2B;AAChCR,QAAAA,QAAQ,CAACS,IAAT,CAAc;AAAEF,UAAAA,OAAO,EAAEA,OAAX;AAAoBC,UAAAA,OAAO,EAAEA;AAA7B,SAAd;AACD;AAZW,KAAd;AAeA,QAAIE,MAAM,GAAG,IAAIrB,cAAJ,CAAmBa,OAAnB,EAA4BJ,SAA5B,CAAb,CAjBwC,CAmBxC;AACA;;AACAY,IAAAA,MAAM,CAACC,iBAAP,CAAyBlB,WAAzB,EAAsCC,WAAtC;AACD;;AAED,MAAI;AACFE,IAAAA,QAAQ,GAAGJ,OAAO,CAACoB,GAAR,CAAY,cAAZ,CAAX;AACAf,IAAAA,QAAQ,GAAGL,OAAO,CAACoB,GAAR,CAAY,UAAZ,CAAX;AACAd,IAAAA,SAAS,GAAGN,OAAO,CAACoB,GAAR,CAAY,WAAZ,CAAZ;AAEAf,IAAAA,QAAQ,CAACgB,IAAT,CAAc,qBAAd,EAAqC;AAAEpB,MAAAA,WAAW,EAAEA;AAAf,KAArC;AAEAQ,IAAAA,MAAM,CAACR,WAAD,EAAcC,WAAd,CAAN;AAEAG,IAAAA,QAAQ,CAACgB,IAAT,CAAc,wBAAd,EAAwC;AACtCd,MAAAA,KAAK,EAAEA,KAD+B;AAEtCC,MAAAA,QAAQ,EAAEA;AAF4B,KAAxC;AAID,GAbD,CAaE,OAAOc,CAAP,EAAU;AACVf,IAAAA,KAAK,GAAGe,CAAR;AACD;;AAEDnB,EAAAA,IAAI,CAACI,KAAD,EAAQC,QAAR,CAAJ;AACD","sourcesContent":["import BpmnTreeWalker from './BpmnTreeWalker';\n\nimport {\n  isFunction\n} from 'min-dash';\n\n/**\n * Import the definitions into a diagram.\n *\n * Errors and warnings are reported through the specified callback.\n *\n * @param  {djs.Diagram} diagram\n * @param  {ModdleElement<Definitions>} definitions\n * @param  {ModdleElement<BPMNDiagram>} [bpmnDiagram] the diagram to be rendered\n * (if not provided, the first one will be rendered)\n * @param  {Function} done the callback, invoked with (err, [ warning ]) once the import is done\n */\nexport function importBpmnDiagram(diagram, definitions, bpmnDiagram, done) {\n\n  if (isFunction(bpmnDiagram)) {\n    done = bpmnDiagram;\n    bpmnDiagram = null;\n  }\n\n  var importer,\n      eventBus,\n      translate;\n\n  var error,\n      warnings = [];\n\n  /**\n   * Walk the diagram semantically, importing (=drawing)\n   * all elements you encounter.\n   *\n   * @param {ModdleElement<Definitions>} definitions\n   * @param {ModdleElement<BPMNDiagram>} bpmnDiagram\n   */\n  function render(definitions, bpmnDiagram) {\n\n    var visitor = {\n\n      root: function(element) {\n        return importer.add(element);\n      },\n\n      element: function(element, parentShape) {\n        return importer.add(element, parentShape);\n      },\n\n      error: function(message, context) {\n        warnings.push({ message: message, context: context });\n      }\n    };\n\n    var walker = new BpmnTreeWalker(visitor, translate);\n\n    // traverse BPMN 2.0 document model,\n    // starting at definitions\n    walker.handleDefinitions(definitions, bpmnDiagram);\n  }\n\n  try {\n    importer = diagram.get('bpmnImporter');\n    eventBus = diagram.get('eventBus');\n    translate = diagram.get('translate');\n\n    eventBus.fire('import.render.start', { definitions: definitions });\n\n    render(definitions, bpmnDiagram);\n\n    eventBus.fire('import.render.complete', {\n      error: error,\n      warnings: warnings\n    });\n  } catch (e) {\n    error = e;\n  }\n\n  done(error, warnings);\n}"]},"metadata":{},"sourceType":"module"}