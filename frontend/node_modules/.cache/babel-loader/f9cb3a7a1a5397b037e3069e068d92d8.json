{"ast":null,"code":"import inherits from 'inherits';\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\nimport { getBusinessObject } from '../../../util/ModelUtil';\nimport { isAny } from '../util/ModelingUtil';\n/**\n * A component that makes sure that each created or updated\n * Pool and Lane is assigned an isHorizontal property set to true.\n *\n * @param {EventBus} eventBus\n */\n\nexport default function IsHorizontalFix(eventBus) {\n  CommandInterceptor.call(this, eventBus);\n  var elementTypesToUpdate = ['bpmn:Participant', 'bpmn:Lane'];\n  this.executed(['shape.move', 'shape.create', 'shape.resize'], function (event) {\n    var bo = getBusinessObject(event.context.shape);\n\n    if (isAny(bo, elementTypesToUpdate) && !bo.di.get('isHorizontal')) {\n      // set attribute directly to avoid modeling#updateProperty side effects\n      bo.di.set('isHorizontal', true);\n    }\n  });\n}\nIsHorizontalFix.$inject = ['eventBus'];\ninherits(IsHorizontalFix, CommandInterceptor);","map":{"version":3,"sources":["C:/Users/Vittorio/Documents/GitHub/goal-bpmn/frontend/node_modules/bpmn-js/lib/features/modeling/behavior/IsHorizontalFix.js"],"names":["inherits","CommandInterceptor","getBusinessObject","isAny","IsHorizontalFix","eventBus","call","elementTypesToUpdate","executed","event","bo","context","shape","di","get","set","$inject"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;AAEA,OAAOC,kBAAP,MAA+B,2CAA/B;AAEA,SACEC,iBADF,QAEO,yBAFP;AAIA,SACEC,KADF,QAEO,sBAFP;AAIA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,eAAT,CAAyBC,QAAzB,EAAmC;AAEhDJ,EAAAA,kBAAkB,CAACK,IAAnB,CAAwB,IAAxB,EAA8BD,QAA9B;AAEA,MAAIE,oBAAoB,GAAG,CACzB,kBADyB,EAEzB,WAFyB,CAA3B;AAKA,OAAKC,QAAL,CAAc,CAAE,YAAF,EAAgB,cAAhB,EAAgC,cAAhC,CAAd,EAAgE,UAASC,KAAT,EAAgB;AAC9E,QAAIC,EAAE,GAAGR,iBAAiB,CAACO,KAAK,CAACE,OAAN,CAAcC,KAAf,CAA1B;;AAEA,QAAIT,KAAK,CAACO,EAAD,EAAKH,oBAAL,CAAL,IAAmC,CAACG,EAAE,CAACG,EAAH,CAAMC,GAAN,CAAU,cAAV,CAAxC,EAAmE;AACjE;AACAJ,MAAAA,EAAE,CAACG,EAAH,CAAME,GAAN,CAAU,cAAV,EAA0B,IAA1B;AACD;AACF,GAPD;AASD;AAEDX,eAAe,CAACY,OAAhB,GAA0B,CAAE,UAAF,CAA1B;AAEAhB,QAAQ,CAACI,eAAD,EAAkBH,kBAAlB,CAAR","sourcesContent":["import inherits from 'inherits';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n  getBusinessObject\n} from '../../../util/ModelUtil';\n\nimport {\n  isAny\n} from '../util/ModelingUtil';\n\n/**\n * A component that makes sure that each created or updated\n * Pool and Lane is assigned an isHorizontal property set to true.\n *\n * @param {EventBus} eventBus\n */\nexport default function IsHorizontalFix(eventBus) {\n\n  CommandInterceptor.call(this, eventBus);\n\n  var elementTypesToUpdate = [\n    'bpmn:Participant',\n    'bpmn:Lane'\n  ];\n\n  this.executed([ 'shape.move', 'shape.create', 'shape.resize' ], function(event) {\n    var bo = getBusinessObject(event.context.shape);\n\n    if (isAny(bo, elementTypesToUpdate) && !bo.di.get('isHorizontal')) {\n      // set attribute directly to avoid modeling#updateProperty side effects\n      bo.di.set('isHorizontal', true);\n    }\n  });\n\n}\n\nIsHorizontalFix.$inject = [ 'eventBus' ];\n\ninherits(IsHorizontalFix, CommandInterceptor);\n"]},"metadata":{},"sourceType":"module"}