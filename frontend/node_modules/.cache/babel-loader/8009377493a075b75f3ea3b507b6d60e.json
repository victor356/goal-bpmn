{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vittorio\\\\Documents\\\\GitHub\\\\SPM2021-MTV\\\\frontend\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport TopBar from \"./components/topbar/TopBar\";\nimport Intro from \"./components/intro/Intro\";\nimport Portfolio from \"./components/portfolio/Portfolio\";\nimport Bpmn from \"./components/bpmn/Bpmn\";\nimport Works from \"./components/works/Works\";\nimport \"./App.scss\";\nimport React, { useEffect, useState } from \"react\";\nimport Menu from \"./components/menu/Menu\";\nimport Login from \"./components/login/Login\";\nimport Profile from \"./components/profile/Profile\";\nimport useToken from './components/useToken';\nimport BpmnModeler from './components/bpmn/BpmnModeler';\nimport Cockpit from './components/cockpit/Cockpit';\nimport ProcessDefinitions from './components/processDefinition/ProcessDefinitions';\nimport Deployments from './components/deployments/Deployments';\nimport RunningProcessInstances from './components/runningProcessInstances/RunningProcessInstances';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\nimport { _url, _urlNuovo } from \"./components/config\";\nimport { getCurrentUser } from './components/util/APIUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [tokenBool, setTokenBool] = useState(false);\n  const {\n    token,\n    setToken\n  } = useToken();\n  useEffect(() => {\n    $.ajax({\n      method: \"GET\",\n      url: _url + \"/tokenValid\",\n      data: {\n        token: localStorage.getItem(\"accessToken\")\n      },\n      success: function (data) {\n        //console.log('data', data)\n        setTokenBool(data);\n      },\n      error: function (jqXHR, textStatus, errorThrown) {\n        console.log(\"funzione chiamata quando la chiamata fallisce\", jqXHR, textStatus, errorThrown);\n        setTokenBool(false);\n      }\n    }); // getData();\n  }, []);\n  useEffect(() => {}, []);\n\n  function getData() {\n    const supp = getCurrentUser().then(response => {\n      setTenant(response.id, response.name);\n      console.log(\"RISPOSTA:\", response.id + response.name);\n    }).catch(error => {\n      console.log(\"error\", error);\n    });\n  }\n\n  if (!localStorage.getItem(\"accessToken\")) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: /*#__PURE__*/_jsxDEV(Login, {\n        setToken: setToken\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (setTokenBool === false) {\n    localStorage.removeItem('accessToken');\n  }\n\n  function setTenant(id, nome) {\n    console.log(id + nome);\n    const recipeUrl = _urlNuovo + \"/engine-rest/tenant/create\";\n    const postBody = {\n      id: `${id}`,\n      name: `${nome}`\n    };\n    console.log(\"postBody\", postBody);\n    const requestMetadata = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(postBody)\n    };\n    fetch(recipeUrl, requestMetadata).then(res => res.json()).then(recipes => {\n      // this.setState({ recipes });\n      console.log(recipes);\n    });\n    setMembership(id);\n  }\n\n  function setMembership(id) {\n    const recipeUrl = _urlNuovo + \"/engine-rest/tenant/\" + id + \"/user-members/vittoriorinaldi\";\n    const requestMetadata = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    fetch(recipeUrl, requestMetadata).then(res => res.json()).then(recipes => {\n      // this.setState({ recipes });\n      console.log(recipes);\n    });\n  } // console.log('token', localStorage.getItem(\"accessToken\"))\n\n  /* return (\r\n    <div className=\"app\">\r\n      <TopBar menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\r\n      <Menu menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\r\n      <div className=\"sections\">\r\n        <Intro />\r\n        <Profile />\r\n        <Portfolio />\r\n        <Works />\r\n        <Bpmn />\r\n      </div>\r\n  \n    </div>\r\n  ); */\n\n\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(TopBar, {\n        menuOpen: menuOpen,\n        setMenuOpen: setMenuOpen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Menu, {\n        menuOpen: menuOpen,\n        setMenuOpen: setMenuOpen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sections\",\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Intro, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/profile\",\n            element: /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/portfolio\",\n            element: /*#__PURE__*/_jsxDEV(Portfolio, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 47\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/works\",\n            element: /*#__PURE__*/_jsxDEV(Works, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/bpmn/:d\",\n            element: /*#__PURE__*/_jsxDEV(Bpmn, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/bpmnModeler\",\n            element: /*#__PURE__*/_jsxDEV(BpmnModeler, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/cockpit\",\n            element: /*#__PURE__*/_jsxDEV(Cockpit, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/processDefinitions\",\n            element: /*#__PURE__*/_jsxDEV(ProcessDefinitions, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 56\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/deployments\",\n            element: /*#__PURE__*/_jsxDEV(Deployments, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/runningProcessInstances\",\n            element: /*#__PURE__*/_jsxDEV(RunningProcessInstances, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 61\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"FSjwgwXG1ynUATxk6WnnE7j5wg0=\", false, function () {\n  return [useToken];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Vittorio/Documents/GitHub/SPM2021-MTV/frontend/src/App.js"],"names":["TopBar","Intro","Portfolio","Bpmn","Works","React","useEffect","useState","Menu","Login","Profile","useToken","BpmnModeler","Cockpit","ProcessDefinitions","Deployments","RunningProcessInstances","axios","$","BrowserRouter","Router","Route","Routes","_url","_urlNuovo","getCurrentUser","App","menuOpen","setMenuOpen","tokenBool","setTokenBool","token","setToken","ajax","method","url","data","localStorage","getItem","success","error","jqXHR","textStatus","errorThrown","console","log","getData","supp","then","response","setTenant","id","name","catch","removeItem","nome","recipeUrl","postBody","requestMetadata","headers","body","JSON","stringify","fetch","res","json","recipes","setMembership"],"mappings":"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","sourcesContent":["import TopBar from \"./components/topbar/TopBar\";\r\nimport Intro from \"./components/intro/Intro\";\r\nimport Portfolio from \"./components/portfolio/Portfolio\";\r\nimport Bpmn from \"./components/bpmn/Bpmn\";\r\nimport Works from \"./components/works/Works\";\r\nimport \"./App.scss\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Menu from \"./components/menu/Menu\";\r\nimport Login from \"./components/login/Login\";\r\nimport Profile from \"./components/profile/Profile\";\r\nimport useToken from './components/useToken';\r\nimport BpmnModeler from './components/bpmn/BpmnModeler';\r\nimport Cockpit from './components/cockpit/Cockpit';\r\nimport ProcessDefinitions from './components/processDefinition/ProcessDefinitions';\r\nimport Deployments from './components/deployments/Deployments';\r\nimport RunningProcessInstances from './components/runningProcessInstances/RunningProcessInstances';\r\nimport axios from 'axios';\r\n\r\nimport $ from 'jquery';\r\n\r\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\r\nimport { _url, _urlNuovo } from \"./components/config\";\r\nimport { getCurrentUser } from './components/util/APIUtils';\r\n\r\nfunction App() {\r\n\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [tokenBool, setTokenBool] = useState(false);\r\n\r\n  const { token, setToken } = useToken();\r\n\r\n  useEffect(() => {\r\n    $.ajax({\r\n      method: \"GET\",\r\n      url: _url + \"/tokenValid\",\r\n      data: { token: localStorage.getItem(\"accessToken\"), },\r\n      success: function (data) {\r\n        //console.log('data', data)\r\n        setTokenBool(data)\r\n      },\r\n      error: function (jqXHR, textStatus, errorThrown) {\r\n        console.log(\"funzione chiamata quando la chiamata fallisce\", jqXHR, textStatus, errorThrown);\r\n        setTokenBool(false)\r\n      }\r\n    });\r\n   // getData();\r\n\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n  }, [])\r\n\r\n\r\n\r\n  function getData() {\r\n    const supp = getCurrentUser()\r\n      .then(response => {\r\n        setTenant(response.id, response.name)\r\n        console.log(\"RISPOSTA:\", response.id + response.name)\r\n      }).catch(error => {\r\n        console.log(\"error\", error);\r\n      })\r\n  }\r\n\r\n  if (!localStorage.getItem(\"accessToken\")) {\r\n    return <div className=\"login\">\r\n      <Login setToken={setToken} />\r\n    </div>\r\n  }\r\n\r\n  if (setTokenBool === false) {\r\n    localStorage.removeItem('accessToken')\r\n  }\r\n\r\n  function setTenant(id, nome) {\r\n    console.log(id + nome);\r\n    const recipeUrl = _urlNuovo + \"/engine-rest/tenant/create\";\r\n    const postBody = {\r\n      id: `${id}`,\r\n      name: `${nome}`\r\n    };\r\n    console.log(\"postBody\", postBody);\r\n    const requestMetadata = {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(postBody)\r\n    };\r\n\r\n    fetch(recipeUrl, requestMetadata)\r\n      .then(res => res.json())\r\n      .then(recipes => {\r\n        // this.setState({ recipes });\r\n        console.log(recipes);\r\n      });\r\n    setMembership(id);\r\n  }\r\n\r\n\r\n  function setMembership(id) {\r\n    const recipeUrl = _urlNuovo + \"/engine-rest/tenant/\" + id + \"/user-members/vittoriorinaldi\";\r\n\r\n    const requestMetadata = {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    };\r\n\r\n    fetch(recipeUrl, requestMetadata)\r\n      .then(res => res.json())\r\n      .then(recipes => {\r\n        // this.setState({ recipes });\r\n        console.log(recipes);\r\n      });\r\n  }\r\n  // console.log('token', localStorage.getItem(\"accessToken\"))\r\n\r\n  /* return (\r\n    <div className=\"app\">\r\n      <TopBar menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\r\n      <Menu menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\r\n      <div className=\"sections\">\r\n        <Intro />\r\n        <Profile />\r\n        <Portfolio />\r\n        <Works />\r\n        <Bpmn />\r\n      </div>\r\n \r\n    </div>\r\n  ); */\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"app\">\r\n        <TopBar menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\r\n        <Menu menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\r\n        <div className=\"sections\">\r\n          <Routes>\r\n            <Route path=\"/\" element={<Intro />} />\r\n            <Route path=\"/profile\" element={<Profile />} />\r\n            <Route path=\"/portfolio\" element={<Portfolio />} />\r\n            <Route path=\"/works\" element={<Works />} />\r\n            <Route path=\"/bpmn/:d\" element={<Bpmn />} />\r\n            <Route path=\"/bpmnModeler\" element={<BpmnModeler />} />\r\n            <Route path=\"/cockpit\" element={<Cockpit />} />\r\n            <Route path=\"/processDefinitions\" element={<ProcessDefinitions />} />\r\n            <Route path=\"/deployments\" element={<Deployments />} />\r\n            <Route path=\"/runningProcessInstances\" element={<RunningProcessInstances />} />\r\n          </Routes>\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}