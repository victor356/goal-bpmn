{"ast":null,"code":"'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    entryFactory = require('../../../factory/EntryFactory'),\n    cmdHelper = require('../../../helper/CmdHelper');\n\nvar forEach = require('lodash/forEach');\n\nfunction getLinkEventDefinition(element) {\n  var bo = getBusinessObject(element);\n  var linkEventDefinition = null;\n\n  if (bo.eventDefinitions) {\n    forEach(bo.eventDefinitions, function (eventDefinition) {\n      if (is(eventDefinition, 'bpmn:LinkEventDefinition')) {\n        linkEventDefinition = eventDefinition;\n      }\n    });\n  }\n\n  return linkEventDefinition;\n}\n\nmodule.exports = function (group, element, translate) {\n  var linkEvents = ['bpmn:IntermediateThrowEvent', 'bpmn:IntermediateCatchEvent'];\n  forEach(linkEvents, function (event) {\n    if (is(element, event)) {\n      var linkEventDefinition = getLinkEventDefinition(element);\n\n      if (linkEventDefinition) {\n        var entry = entryFactory.textField({\n          id: 'link-event',\n          label: translate('Link Name'),\n          modelProperty: 'link-name'\n        });\n\n        entry.get = function () {\n          return {\n            'link-name': linkEventDefinition.get('name')\n          };\n        };\n\n        entry.set = function (element, values) {\n          var newProperties = {\n            name: values['link-name']\n          };\n          return cmdHelper.updateBusinessObject(element, linkEventDefinition, newProperties);\n        };\n\n        group.entries.push(entry);\n      }\n    }\n  });\n};","map":{"version":3,"sources":["C:/Users/Vittorio/Documents/GitHub/SPM2021-MTV/frontend/node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/LinkProps.js"],"names":["is","require","getBusinessObject","entryFactory","cmdHelper","forEach","getLinkEventDefinition","element","bo","linkEventDefinition","eventDefinitions","eventDefinition","module","exports","group","translate","linkEvents","event","entry","textField","id","label","modelProperty","get","set","values","newProperties","name","updateBusinessObject","entries","push"],"mappings":"AAAA;;AAEA,IAAIA,EAAE,GAAGC,OAAO,CAAC,4BAAD,CAAP,CAAsCD,EAA/C;AAAA,IACIE,iBAAiB,GAAGD,OAAO,CAAC,4BAAD,CAAP,CAAsCC,iBAD9D;AAAA,IAEIC,YAAY,GAAGF,OAAO,CAAC,+BAAD,CAF1B;AAAA,IAGIG,SAAS,GAAGH,OAAO,CAAC,2BAAD,CAHvB;;AAKA,IAAII,OAAO,GAAGJ,OAAO,CAAC,gBAAD,CAArB;;AAEA,SAASK,sBAAT,CAAgCC,OAAhC,EAAyC;AAEvC,MAAIC,EAAE,GAAGN,iBAAiB,CAACK,OAAD,CAA1B;AAEA,MAAIE,mBAAmB,GAAG,IAA1B;;AACA,MAAID,EAAE,CAACE,gBAAP,EAAyB;AACvBL,IAAAA,OAAO,CAACG,EAAE,CAACE,gBAAJ,EAAsB,UAASC,eAAT,EAA0B;AACrD,UAAIX,EAAE,CAACW,eAAD,EAAkB,0BAAlB,CAAN,EAAqD;AACnDF,QAAAA,mBAAmB,GAAGE,eAAtB;AACD;AACF,KAJM,CAAP;AAKD;;AAED,SAAOF,mBAAP;AACD;;AAEDG,MAAM,CAACC,OAAP,GAAiB,UAASC,KAAT,EAAgBP,OAAhB,EAAyBQ,SAAzB,EAAoC;AACnD,MAAIC,UAAU,GAAG,CAAE,6BAAF,EAAiC,6BAAjC,CAAjB;AAEAX,EAAAA,OAAO,CAACW,UAAD,EAAa,UAASC,KAAT,EAAgB;AAClC,QAAIjB,EAAE,CAACO,OAAD,EAAUU,KAAV,CAAN,EAAwB;AAEtB,UAAIR,mBAAmB,GAAGH,sBAAsB,CAACC,OAAD,CAAhD;;AAEA,UAAIE,mBAAJ,EAAyB;AACvB,YAAIS,KAAK,GAAGf,YAAY,CAACgB,SAAb,CAAuB;AACjCC,UAAAA,EAAE,EAAE,YAD6B;AAEjCC,UAAAA,KAAK,EAAEN,SAAS,CAAC,WAAD,CAFiB;AAGjCO,UAAAA,aAAa,EAAE;AAHkB,SAAvB,CAAZ;;AAMAJ,QAAAA,KAAK,CAACK,GAAN,GAAY,YAAW;AACrB,iBAAO;AAAE,yBAAad,mBAAmB,CAACc,GAApB,CAAwB,MAAxB;AAAf,WAAP;AACD,SAFD;;AAIAL,QAAAA,KAAK,CAACM,GAAN,GAAY,UAASjB,OAAT,EAAkBkB,MAAlB,EAA0B;AACpC,cAAIC,aAAa,GAAG;AAClBC,YAAAA,IAAI,EAAEF,MAAM,CAAC,WAAD;AADM,WAApB;AAGA,iBAAOrB,SAAS,CAACwB,oBAAV,CAA+BrB,OAA/B,EAAwCE,mBAAxC,EAA6DiB,aAA7D,CAAP;AACD,SALD;;AAOAZ,QAAAA,KAAK,CAACe,OAAN,CAAcC,IAAd,CAAmBZ,KAAnB;AACD;AACF;AACF,GA1BM,CAAP;AA2BD,CA9BD","sourcesContent":["'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    entryFactory = require('../../../factory/EntryFactory'),\n    cmdHelper = require('../../../helper/CmdHelper');\n\nvar forEach = require('lodash/forEach');\n\nfunction getLinkEventDefinition(element) {\n\n  var bo = getBusinessObject(element);\n\n  var linkEventDefinition = null;\n  if (bo.eventDefinitions) {\n    forEach(bo.eventDefinitions, function(eventDefinition) {\n      if (is(eventDefinition, 'bpmn:LinkEventDefinition')) {\n        linkEventDefinition = eventDefinition;\n      }\n    });\n  }\n\n  return linkEventDefinition;\n}\n\nmodule.exports = function(group, element, translate) {\n  var linkEvents = [ 'bpmn:IntermediateThrowEvent', 'bpmn:IntermediateCatchEvent' ];\n\n  forEach(linkEvents, function(event) {\n    if (is(element, event)) {\n\n      var linkEventDefinition = getLinkEventDefinition(element);\n\n      if (linkEventDefinition) {\n        var entry = entryFactory.textField({\n          id: 'link-event',\n          label: translate('Link Name'),\n          modelProperty: 'link-name'\n        });\n\n        entry.get = function() {\n          return { 'link-name': linkEventDefinition.get('name') };\n        };\n\n        entry.set = function(element, values) {\n          var newProperties = {\n            name: values['link-name']\n          };\n          return cmdHelper.updateBusinessObject(element, linkEventDefinition, newProperties);\n        };\n\n        group.entries.push(entry);\n      }\n    }\n  });\n};\n\n"]},"metadata":{},"sourceType":"script"}