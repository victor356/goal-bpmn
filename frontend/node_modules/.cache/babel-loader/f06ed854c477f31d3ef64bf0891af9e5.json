{"ast":null,"code":"import { bind } from 'min-dash';\nexport default function MouseTracking(eventBus, canvas) {\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  this._init();\n}\nMouseTracking.$inject = ['eventBus', 'canvas'];\n\nMouseTracking.prototype.getHoverContext = function () {\n  var viewbox = this._canvas.viewbox();\n\n  return {\n    element: this._hoverElement,\n    point: {\n      x: viewbox.x + Math.round(this._mouseX / viewbox.scale),\n      y: viewbox.y + Math.round(this._mouseY / viewbox.scale)\n    }\n  };\n};\n\nMouseTracking.prototype._init = function () {\n  var eventBus = this._eventBus,\n      canvas = this._canvas;\n  var container = canvas.getContainer();\n  this._setMousePosition = bind(this._setMousePosition, this);\n  container.addEventListener('mousemove', this._setMousePosition);\n  eventBus.on('diagram.destroy', function () {\n    container.removeEventListener('mousemove', this._setMousePosition);\n  }, this);\n  eventBus.on('element.hover', this._setHoverElement, this);\n};\n\nMouseTracking.prototype._setHoverElement = function (event) {\n  this._hoverElement = event.element;\n};\n\nMouseTracking.prototype._setMousePosition = function (event) {\n  this._mouseX = event.layerX;\n  this._mouseY = event.layerY;\n};","map":{"version":3,"sources":["C:/Users/Vittorio/Documents/GitHub/SPM2021-MTV/frontend/node_modules/bpmn-js/node_modules/diagram-js/lib/features/mouse-tracking/MouseTracking.js"],"names":["bind","MouseTracking","eventBus","canvas","_eventBus","_canvas","_init","$inject","prototype","getHoverContext","viewbox","element","_hoverElement","point","x","Math","round","_mouseX","scale","y","_mouseY","container","getContainer","_setMousePosition","addEventListener","on","removeEventListener","_setHoverElement","event","layerX","layerY"],"mappings":"AAAA,SAASA,IAAT,QAAqB,UAArB;AAGA,eAAe,SAASC,aAAT,CAAuBC,QAAvB,EAAiCC,MAAjC,EAAyC;AACtD,OAAKC,SAAL,GAAiBF,QAAjB;AACA,OAAKG,OAAL,GAAeF,MAAf;;AAEA,OAAKG,KAAL;AACD;AAEDL,aAAa,CAACM,OAAd,GAAwB,CACtB,UADsB,EAEtB,QAFsB,CAAxB;;AAMAN,aAAa,CAACO,SAAd,CAAwBC,eAAxB,GAA0C,YAAW;AACnD,MAAIC,OAAO,GAAG,KAAKL,OAAL,CAAaK,OAAb,EAAd;;AAEA,SAAO;AACLC,IAAAA,OAAO,EAAE,KAAKC,aADT;AAELC,IAAAA,KAAK,EAAE;AACLC,MAAAA,CAAC,EAAEJ,OAAO,CAACI,CAAR,GAAYC,IAAI,CAACC,KAAL,CAAW,KAAKC,OAAL,GAAeP,OAAO,CAACQ,KAAlC,CADV;AAELC,MAAAA,CAAC,EAAET,OAAO,CAACS,CAAR,GAAYJ,IAAI,CAACC,KAAL,CAAW,KAAKI,OAAL,GAAeV,OAAO,CAACQ,KAAlC;AAFV;AAFF,GAAP;AAOD,CAVD;;AAYAjB,aAAa,CAACO,SAAd,CAAwBF,KAAxB,GAAgC,YAAW;AACzC,MAAIJ,QAAQ,GAAG,KAAKE,SAApB;AAAA,MACID,MAAM,GAAG,KAAKE,OADlB;AAGA,MAAIgB,SAAS,GAAGlB,MAAM,CAACmB,YAAP,EAAhB;AAEA,OAAKC,iBAAL,GAAyBvB,IAAI,CAAC,KAAKuB,iBAAN,EAAyB,IAAzB,CAA7B;AAEAF,EAAAA,SAAS,CAACG,gBAAV,CAA2B,WAA3B,EAAwC,KAAKD,iBAA7C;AAEArB,EAAAA,QAAQ,CAACuB,EAAT,CAAY,iBAAZ,EAA+B,YAAW;AACxCJ,IAAAA,SAAS,CAACK,mBAAV,CAA8B,WAA9B,EAA2C,KAAKH,iBAAhD;AACD,GAFD,EAEG,IAFH;AAIArB,EAAAA,QAAQ,CAACuB,EAAT,CAAY,eAAZ,EAA6B,KAAKE,gBAAlC,EAAoD,IAApD;AACD,CAfD;;AAkBA1B,aAAa,CAACO,SAAd,CAAwBmB,gBAAxB,GAA2C,UAASC,KAAT,EAAgB;AACzD,OAAKhB,aAAL,GAAqBgB,KAAK,CAACjB,OAA3B;AACD,CAFD;;AAKAV,aAAa,CAACO,SAAd,CAAwBe,iBAAxB,GAA4C,UAASK,KAAT,EAAgB;AAC1D,OAAKX,OAAL,GAAeW,KAAK,CAACC,MAArB;AACA,OAAKT,OAAL,GAAeQ,KAAK,CAACE,MAArB;AACD,CAHD","sourcesContent":["import { bind } from 'min-dash';\n\n\nexport default function MouseTracking(eventBus, canvas) {\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  this._init();\n}\n\nMouseTracking.$inject = [\n  'eventBus',\n  'canvas'\n];\n\n\nMouseTracking.prototype.getHoverContext = function() {\n  var viewbox = this._canvas.viewbox();\n\n  return {\n    element: this._hoverElement,\n    point: {\n      x: viewbox.x + Math.round(this._mouseX / viewbox.scale),\n      y: viewbox.y + Math.round(this._mouseY / viewbox.scale)\n    }\n  };\n};\n\nMouseTracking.prototype._init = function() {\n  var eventBus = this._eventBus,\n      canvas = this._canvas;\n\n  var container = canvas.getContainer();\n\n  this._setMousePosition = bind(this._setMousePosition, this);\n\n  container.addEventListener('mousemove', this._setMousePosition);\n\n  eventBus.on('diagram.destroy', function() {\n    container.removeEventListener('mousemove', this._setMousePosition);\n  }, this);\n\n  eventBus.on('element.hover', this._setHoverElement, this);\n};\n\n\nMouseTracking.prototype._setHoverElement = function(event) {\n  this._hoverElement = event.element;\n};\n\n\nMouseTracking.prototype._setMousePosition = function(event) {\n  this._mouseX = event.layerX;\n  this._mouseY = event.layerY;\n};\n"]},"metadata":{},"sourceType":"module"}