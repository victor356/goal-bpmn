{"ast":null,"code":"import { forEach } from 'min-dash';\nvar MARKER_HOVER = 'hover',\n    MARKER_SELECTED = 'selected';\n/**\n * A plugin that adds a visible selection UI to shapes and connections\n * by appending the <code>hover</code> and <code>selected</code> classes to them.\n *\n * @class\n *\n * Makes elements selectable, too.\n *\n * @param {EventBus} events\n * @param {SelectionService} selection\n * @param {Canvas} canvas\n */\n\nexport default function SelectionVisuals(events, canvas, selection, styles) {\n  this._multiSelectionBox = null;\n\n  function addMarker(e, cls) {\n    canvas.addMarker(e, cls);\n  }\n\n  function removeMarker(e, cls) {\n    canvas.removeMarker(e, cls);\n  }\n\n  events.on('element.hover', function (event) {\n    addMarker(event.element, MARKER_HOVER);\n  });\n  events.on('element.out', function (event) {\n    removeMarker(event.element, MARKER_HOVER);\n  });\n  events.on('selection.changed', function (event) {\n    function deselect(s) {\n      removeMarker(s, MARKER_SELECTED);\n    }\n\n    function select(s) {\n      addMarker(s, MARKER_SELECTED);\n    }\n\n    var oldSelection = event.oldSelection,\n        newSelection = event.newSelection;\n    forEach(oldSelection, function (e) {\n      if (newSelection.indexOf(e) === -1) {\n        deselect(e);\n      }\n    });\n    forEach(newSelection, function (e) {\n      if (oldSelection.indexOf(e) === -1) {\n        select(e);\n      }\n    });\n  });\n}\nSelectionVisuals.$inject = ['eventBus', 'canvas', 'selection', 'styles'];","map":{"version":3,"sources":["C:/Users/Vittorio/Documents/GitHub/SPM2021-MTV/frontend/node_modules/bpmn-js/node_modules/diagram-js/lib/features/selection/SelectionVisuals.js"],"names":["forEach","MARKER_HOVER","MARKER_SELECTED","SelectionVisuals","events","canvas","selection","styles","_multiSelectionBox","addMarker","e","cls","removeMarker","on","event","element","deselect","s","select","oldSelection","newSelection","indexOf","$inject"],"mappings":"AAAA,SACEA,OADF,QAEO,UAFP;AAIA,IAAIC,YAAY,GAAG,OAAnB;AAAA,IACIC,eAAe,GAAG,UADtB;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,MAAlC,EAA0CC,SAA1C,EAAqDC,MAArD,EAA6D;AAE1E,OAAKC,kBAAL,GAA0B,IAA1B;;AAEA,WAASC,SAAT,CAAmBC,CAAnB,EAAsBC,GAAtB,EAA2B;AACzBN,IAAAA,MAAM,CAACI,SAAP,CAAiBC,CAAjB,EAAoBC,GAApB;AACD;;AAED,WAASC,YAAT,CAAsBF,CAAtB,EAAyBC,GAAzB,EAA8B;AAC5BN,IAAAA,MAAM,CAACO,YAAP,CAAoBF,CAApB,EAAuBC,GAAvB;AACD;;AAEDP,EAAAA,MAAM,CAACS,EAAP,CAAU,eAAV,EAA2B,UAASC,KAAT,EAAgB;AACzCL,IAAAA,SAAS,CAACK,KAAK,CAACC,OAAP,EAAgBd,YAAhB,CAAT;AACD,GAFD;AAIAG,EAAAA,MAAM,CAACS,EAAP,CAAU,aAAV,EAAyB,UAASC,KAAT,EAAgB;AACvCF,IAAAA,YAAY,CAACE,KAAK,CAACC,OAAP,EAAgBd,YAAhB,CAAZ;AACD,GAFD;AAIAG,EAAAA,MAAM,CAACS,EAAP,CAAU,mBAAV,EAA+B,UAASC,KAAT,EAAgB;AAE7C,aAASE,QAAT,CAAkBC,CAAlB,EAAqB;AACnBL,MAAAA,YAAY,CAACK,CAAD,EAAIf,eAAJ,CAAZ;AACD;;AAED,aAASgB,MAAT,CAAgBD,CAAhB,EAAmB;AACjBR,MAAAA,SAAS,CAACQ,CAAD,EAAIf,eAAJ,CAAT;AACD;;AAED,QAAIiB,YAAY,GAAGL,KAAK,CAACK,YAAzB;AAAA,QACIC,YAAY,GAAGN,KAAK,CAACM,YADzB;AAGApB,IAAAA,OAAO,CAACmB,YAAD,EAAe,UAAST,CAAT,EAAY;AAChC,UAAIU,YAAY,CAACC,OAAb,CAAqBX,CAArB,MAA4B,CAAC,CAAjC,EAAoC;AAClCM,QAAAA,QAAQ,CAACN,CAAD,CAAR;AACD;AACF,KAJM,CAAP;AAMAV,IAAAA,OAAO,CAACoB,YAAD,EAAe,UAASV,CAAT,EAAY;AAChC,UAAIS,YAAY,CAACE,OAAb,CAAqBX,CAArB,MAA4B,CAAC,CAAjC,EAAoC;AAClCQ,QAAAA,MAAM,CAACR,CAAD,CAAN;AACD;AACF,KAJM,CAAP;AAKD,GAxBD;AAyBD;AAEDP,gBAAgB,CAACmB,OAAjB,GAA2B,CACzB,UADyB,EAEzB,QAFyB,EAGzB,WAHyB,EAIzB,QAJyB,CAA3B","sourcesContent":["import {\n  forEach\n} from 'min-dash';\n\nvar MARKER_HOVER = 'hover',\n    MARKER_SELECTED = 'selected';\n\n\n/**\n * A plugin that adds a visible selection UI to shapes and connections\n * by appending the <code>hover</code> and <code>selected</code> classes to them.\n *\n * @class\n *\n * Makes elements selectable, too.\n *\n * @param {EventBus} events\n * @param {SelectionService} selection\n * @param {Canvas} canvas\n */\nexport default function SelectionVisuals(events, canvas, selection, styles) {\n\n  this._multiSelectionBox = null;\n\n  function addMarker(e, cls) {\n    canvas.addMarker(e, cls);\n  }\n\n  function removeMarker(e, cls) {\n    canvas.removeMarker(e, cls);\n  }\n\n  events.on('element.hover', function(event) {\n    addMarker(event.element, MARKER_HOVER);\n  });\n\n  events.on('element.out', function(event) {\n    removeMarker(event.element, MARKER_HOVER);\n  });\n\n  events.on('selection.changed', function(event) {\n\n    function deselect(s) {\n      removeMarker(s, MARKER_SELECTED);\n    }\n\n    function select(s) {\n      addMarker(s, MARKER_SELECTED);\n    }\n\n    var oldSelection = event.oldSelection,\n        newSelection = event.newSelection;\n\n    forEach(oldSelection, function(e) {\n      if (newSelection.indexOf(e) === -1) {\n        deselect(e);\n      }\n    });\n\n    forEach(newSelection, function(e) {\n      if (oldSelection.indexOf(e) === -1) {\n        select(e);\n      }\n    });\n  });\n}\n\nSelectionVisuals.$inject = [\n  'eventBus',\n  'canvas',\n  'selection',\n  'styles'\n];"]},"metadata":{},"sourceType":"module"}