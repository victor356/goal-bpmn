{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vittorio\\\\Documents\\\\GitHub\\\\SPM2021-MTV\\\\frontend\\\\src\\\\components\\\\processDefinition\\\\ProcessDefinitions.jsx\",\n    _s = $RefreshSig$();\n\nimport \"./processDefinitions.scss\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { getCurrentUser } from '../util/APIUtils';\nimport $ from 'jquery';\nimport { _urlNuovo, _urlResources } from \"../config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ProcessDefinitions(processDefinitions) {\n  _s();\n\n  const [myProcessDefinitions, setMyProcessDefinitions] = useState([]);\n  const [id, setId] = useState();\n  const [myIncidents, setMyIncidents] = useState();\n  const [myInstances, setMyInstances] = useState([]);\n  useEffect(() => {\n    getId();\n  }, []);\n\n  function getId() {\n    const supp = getCurrentUser().then(response => {\n      setId(response.id);\n      getAllMyProcessDefinitions(response.id); //getAllMyIncidents(response.id);\n      //console.log(\"response\", response.id);\n    }).catch(error => {\n      console.log(\"error\", error);\n    });\n  }\n\n  function getAllMyProcessDefinitions(id) {\n    $.ajax({\n      method: \"GET\",\n      url: _urlNuovo + \"/rest/process-definition?tenantIdIn=\" + id,\n      success: function (data) {\n        setMyProcessDefinitions(data);\n        console.log(\"data\", data);\n      },\n      error: function (jqXHR, textStatus, errorThrown) {\n        console.log(\"funzione chiamata quando la chiamata fallisce\", jqXHR, textStatus, errorThrown);\n      }\n    });\n  }\n  /*   function getAllMyIncidents(id, processDefinitionId) {\r\n  \r\n      $.ajax({\r\n        method: \"GET\",\r\n        url: _urlNuovo + \"/rest/incident/count?tenantIdIn=\" + id + \"&processDefinitionId=\" + processDefinitionId,\r\n        success: function (data) {\r\n          setMyIncidents(data.count);\r\n          console.log(\"incidents: \", data.count);\r\n  \r\n        },\r\n        error: function (jqXHR, textStatus, errorThrown) {\r\n          console.log(\"funzione chiamata quando la chiamata fallisce\", jqXHR, textStatus, errorThrown);\r\n        }\r\n      })\r\n  \r\n    }\r\n  \r\n    function getAllMyInstances(id, processDefinitionId) {\r\n  \r\n      $.ajax({\r\n        method: \"GET\",\r\n        url: _urlNuovo + \"/rest/process-instance?tenantIdIn=\" + id + \"&processDefinitionId=\" + processDefinitionId,\r\n        success: function (data) {\r\n          setMyInstances(data);\r\n  \r\n        },\r\n        error: function (jqXHR, textStatus, errorThrown) {\r\n          console.log(\"funzione chiamata quando la chiamata fallisce\", jqXHR, textStatus, errorThrown);\r\n        }\r\n      })\r\n  \r\n    } */\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"processDefinitions\",\n    id: \"processDefinitions\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Process Definitions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tabella\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cella\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"State\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cella\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Deployment ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cella\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Key\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cella\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Process ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cella\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containerLista\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lista\",\n            style: {\n              maxHeight: 550,\n              overflow: 'auto'\n            },\n            children: myProcessDefinitions.map((item, index) => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cellina\",\n                  children: item.suspended == false ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"image\",\n                    src: \"https://www.freeiconspng.com/uploads/check-mark-icon-green-0.png\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 29\n                  }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"image\",\n                    src: \"https://cdn2.iconfinder.com/data/icons/web-and-apps-interface/32/Cancel-512.png\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cellina\",\n                  children: item.deploymentId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cellina\",\n                  children: item.key\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cellina\",\n                  children: item.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cellina\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: _urlResources + item.resource.toString().substring(6).replace(\".bpmn\", \".svg\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 26\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: '/cockpit',\n        className: \"link\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cockpitButton\",\n          onClick: () => {},\n          children: \"Cockpit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProcessDefinitions, \"+7fPzDf+pEIErnoBXd4XBftMiOM=\");\n\n_c = ProcessDefinitions;\nexport default ProcessDefinitions;\n/* const data = [\r\n  {\r\n    key: 0,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: 'Victor',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 1,\r\n    state: false,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: 'Cippy',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 2,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: '8======D',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 3,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: ':)',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 1,\r\n    state: false,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: 'Cippy',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 2,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: '8======D',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 3,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: ':)',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 0,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: 'Victor',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 1,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: 'Cippy',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 2,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: '8======D',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 3,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: ':)',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 1,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: 'Cippy',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 2,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: '8======D',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 3,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: ':)',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n]\r\n */\n\nvar _c;\n\n$RefreshReg$(_c, \"ProcessDefinitions\");","map":{"version":3,"sources":["C:/Users/Vittorio/Documents/GitHub/SPM2021-MTV/frontend/src/components/processDefinition/ProcessDefinitions.jsx"],"names":["React","useEffect","useRef","useState","Link","useLocation","getCurrentUser","$","_urlNuovo","_urlResources","ProcessDefinitions","processDefinitions","myProcessDefinitions","setMyProcessDefinitions","id","setId","myIncidents","setMyIncidents","myInstances","setMyInstances","getId","supp","then","response","getAllMyProcessDefinitions","catch","error","console","log","ajax","method","url","success","data","jqXHR","textStatus","errorThrown","maxHeight","overflow","map","item","index","suspended","deploymentId","key","resource","toString","substring","replace"],"mappings":"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AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA+DD;;GA3IQtC,kB;;KAAAA,kB;AA6IT,eAAeA,kBAAf;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import \"./processDefinitions.scss\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { getCurrentUser } from '../util/APIUtils';\r\nimport $ from 'jquery';\r\nimport { _urlNuovo, _urlResources } from \"../config\";\r\n\r\n\r\nfunction ProcessDefinitions(processDefinitions) {\r\n  const [myProcessDefinitions, setMyProcessDefinitions] = useState([]);\r\n  const [id, setId] = useState();\r\n  const [myIncidents, setMyIncidents] = useState();\r\n  const [myInstances, setMyInstances] = useState([]);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    getId();\r\n\r\n  }, [])\r\n\r\n\r\n  function getId() {\r\n    const supp = getCurrentUser()\r\n      .then(response => {\r\n        setId(response.id);\r\n        getAllMyProcessDefinitions(response.id);\r\n        //getAllMyIncidents(response.id);\r\n\r\n        //console.log(\"response\", response.id);\r\n      }).catch(error => {\r\n        console.log(\"error\", error);\r\n      })\r\n  }\r\n\r\n\r\n  function getAllMyProcessDefinitions(id) {\r\n    $.ajax({\r\n      method: \"GET\",\r\n      url: _urlNuovo + \"/rest/process-definition?tenantIdIn=\" + id,\r\n      success: function (data) {\r\n        setMyProcessDefinitions(data);\r\n        console.log(\"data\", data);\r\n      },\r\n      error: function (jqXHR, textStatus, errorThrown) {\r\n        console.log(\"funzione chiamata quando la chiamata fallisce\", jqXHR, textStatus, errorThrown);\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n/*   function getAllMyIncidents(id, processDefinitionId) {\r\n\r\n    $.ajax({\r\n      method: \"GET\",\r\n      url: _urlNuovo + \"/rest/incident/count?tenantIdIn=\" + id + \"&processDefinitionId=\" + processDefinitionId,\r\n      success: function (data) {\r\n        setMyIncidents(data.count);\r\n        console.log(\"incidents: \", data.count);\r\n\r\n      },\r\n      error: function (jqXHR, textStatus, errorThrown) {\r\n        console.log(\"funzione chiamata quando la chiamata fallisce\", jqXHR, textStatus, errorThrown);\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  function getAllMyInstances(id, processDefinitionId) {\r\n\r\n    $.ajax({\r\n      method: \"GET\",\r\n      url: _urlNuovo + \"/rest/process-instance?tenantIdIn=\" + id + \"&processDefinitionId=\" + processDefinitionId,\r\n      success: function (data) {\r\n        setMyInstances(data);\r\n\r\n      },\r\n      error: function (jqXHR, textStatus, errorThrown) {\r\n        console.log(\"funzione chiamata quando la chiamata fallisce\", jqXHR, textStatus, errorThrown);\r\n      }\r\n    })\r\n\r\n  } */\r\n\r\n  return (\r\n    <div className=\"processDefinitions\" id=\"processDefinitions\">\r\n      <h1>Process Definitions</h1>\r\n      <div className=\"container\">\r\n        <div className=\"tabella\">\r\n\r\n          <div className=\"header\">\r\n            <div className=\"cella\">\r\n              <h4>State</h4>\r\n            </div>\r\n            <div className=\"cella\">\r\n              <h4>Deployment ID</h4>\r\n            </div>\r\n            <div className=\"cella\">\r\n              <h4>Key</h4>\r\n            </div>\r\n            <div className=\"cella\">\r\n              <h4>Process ID</h4>\r\n            </div>\r\n            <div className=\"cella\">\r\n              <h4>Preview</h4>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"containerLista\">\r\n            <div className=\"lista\" style={{ maxHeight: 550, overflow: 'auto' }}>\r\n              {\r\n                myProcessDefinitions.map((item, index) => {\r\n                  return <div className=\"item\">\r\n                    <div className=\"cellina\">\r\n                      {\r\n                        item.suspended == false\r\n                          ? <img className=\"image\" src=\"https://www.freeiconspng.com/uploads/check-mark-icon-green-0.png\" />\r\n                          : <img className=\"image\" src=\"https://cdn2.iconfinder.com/data/icons/web-and-apps-interface/32/Cancel-512.png\" />\r\n                      }\r\n                    </div>\r\n                    <div className=\"cellina\">\r\n                      {item.deploymentId}\r\n                    </div>\r\n                    <div className=\"cellina\">\r\n                      {item.key}\r\n                    </div>\r\n                    <div className=\"cellina\">\r\n                      {item.id}\r\n                    </div>\r\n                    <div className=\"cellina\">\r\n                      <img src={_urlResources+item.resource.toString().substring(6).replace(\".bpmn\", \".svg\")} />\r\n                    </div>\r\n                  </div>\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <Link to={'/cockpit'} className=\"link\" >\r\n          <button className=\"cockpitButton\" onClick={() => { }}>Cockpit</button>\r\n        </Link>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProcessDefinitions;\r\n\r\n/* const data = [\r\n  {\r\n    key: 0,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: 'Victor',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 1,\r\n    state: false,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: 'Cippy',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 2,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: '8======D',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 3,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: ':)',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 1,\r\n    state: false,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: 'Cippy',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 2,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: '8======D',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 3,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: ':)',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 0,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: 'Victor',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 1,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: 'Cippy',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 2,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: '8======D',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 3,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: ':)',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 1,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: 'Cippy',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 2,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: '8======D',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n  {\r\n    key: 3,\r\n    state: true,\r\n    incidents: 0,\r\n    running: 2,\r\n    name: ':)',\r\n    preview: 'https://www.avvenire.it/c/2021/PublishingImages/d8a65de3c03a4ab09d3f38ff31e4d36c/NONE_SOCCE_77850025.jpg?width=1024'\r\n  },\r\n]\r\n */"]},"metadata":{},"sourceType":"module"}