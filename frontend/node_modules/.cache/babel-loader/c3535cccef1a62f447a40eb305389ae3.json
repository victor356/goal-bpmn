{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vittorio\\\\Documents\\\\GitHub\\\\SPM2021-MTV\\\\frontend\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport TopBar from \"./components/topbar/TopBar\";\nimport Intro from \"./components/intro/Intro\";\nimport Portfolio from \"./components/portfolio/Portfolio\";\nimport Bpmn from \"./components/bpmn/Bpmn\";\nimport Works from \"./components/works/Works\";\nimport \"./App.scss\";\nimport React, { useEffect, useState } from \"react\";\nimport Menu from \"./components/menu/Menu\";\nimport Login from \"./components/login/Login\";\nimport Profile from \"./components/profile/Profile\";\nimport useToken from './components/useToken';\nimport BpmnModeler from './components/bpmn/BpmnModeler';\nimport Cockpit from './components/cockpit/Cockpit';\nimport $ from 'jquery';\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [tokenBool, setTokenBool] = useState(false);\n  const {\n    token,\n    setToken\n  } = useToken();\n  useEffect(() => {\n    $.ajax({\n      method: \"GET\",\n      url: \"http://localhost:8081/tokenValid\",\n      data: {\n        token: localStorage.getItem(\"accessToken\")\n      },\n      success: function (data) {\n        console.log('data', data);\n        setTokenBool(data);\n      },\n      error: function (jqXHR, textStatus, errorThrown) {\n        console.log(\"funzione chiamata quando la chiamata fallisce\", jqXHR, textStatus, errorThrown);\n        setTokenBool(false);\n      }\n    });\n  }, []);\n\n  if (!localStorage.getItem(\"accessToken\")) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: /*#__PURE__*/_jsxDEV(Login, {\n        setToken: setToken\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (setTokenBool === true) {\n    localStorage.removeItem('accessToken');\n  } // console.log('token', localStorage.getItem(\"accessToken\"))\n\n  /* return (\r\n    <div className=\"app\">\r\n      <TopBar menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\r\n      <Menu menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\r\n      <div className=\"sections\">\r\n        <Intro />\r\n        <Profile />\r\n        <Portfolio />\r\n        <Works />\r\n        <Bpmn />\r\n      </div>\r\n      </div>\r\n  ); */\n\n\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(TopBar, {\n        menuOpen: menuOpen,\n        setMenuOpen: setMenuOpen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Menu, {\n        menuOpen: menuOpen,\n        setMenuOpen: setMenuOpen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sections\",\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Intro, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/profile\",\n            element: /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/portfolio\",\n            element: /*#__PURE__*/_jsxDEV(Portfolio, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 47\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/works\",\n            element: /*#__PURE__*/_jsxDEV(Works, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/bpmn/:d\",\n            element: /*#__PURE__*/_jsxDEV(Bpmn, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/bpmnModeler\",\n            element: /*#__PURE__*/_jsxDEV(BpmnModeler, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/cockpit\",\n            element: /*#__PURE__*/_jsxDEV(Cockpit, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"oUi1Qeb1U95ywuw4k5IM05v5RIg=\", false, function () {\n  return [useToken];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Vittorio/Documents/GitHub/SPM2021-MTV/frontend/src/App.js"],"names":["TopBar","Intro","Portfolio","Bpmn","Works","React","useEffect","useState","Menu","Login","Profile","useToken","BpmnModeler","Cockpit","$","BrowserRouter","Router","Route","Routes","App","menuOpen","setMenuOpen","tokenBool","setTokenBool","token","setToken","ajax","method","url","data","localStorage","getItem","success","console","log","error","jqXHR","textStatus","errorThrown","removeItem"],"mappings":"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","sourcesContent":["import TopBar from \"./components/topbar/TopBar\";\r\nimport Intro from \"./components/intro/Intro\";\r\nimport Portfolio from \"./components/portfolio/Portfolio\";\r\nimport Bpmn from \"./components/bpmn/Bpmn\";\r\nimport Works from \"./components/works/Works\";\r\nimport \"./App.scss\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Menu from \"./components/menu/Menu\";\r\nimport Login from \"./components/login/Login\";\r\nimport Profile from \"./components/profile/Profile\";\r\nimport useToken from './components/useToken';\r\nimport BpmnModeler from './components/bpmn/BpmnModeler';\r\nimport Cockpit from './components/cockpit/Cockpit';\r\nimport $ from 'jquery';\r\n\r\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\r\n\r\nfunction App() {\r\n\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [tokenBool, setTokenBool] = useState(false);\r\n\r\n  const { token, setToken } = useToken();\r\n\r\n  useEffect(() => {\r\n    $.ajax({\r\n      method: \"GET\",\r\n      url: \"http://localhost:8081/tokenValid\",\r\n      data: { token: localStorage.getItem(\"accessToken\"), },\r\n      success: function (data) {\r\n          console.log('data', data)\r\n          setTokenBool(data)\r\n      },\r\n      error: function (jqXHR, textStatus, errorThrown) {\r\n          console.log(\"funzione chiamata quando la chiamata fallisce\", jqXHR, textStatus, errorThrown);\r\n          setTokenBool(false)\r\n      }\r\n  })\r\n  }, [])\r\n\r\n  if (!localStorage.getItem(\"accessToken\")) {\r\n    return <div className=\"login\">\r\n      <Login setToken={setToken} />\r\n    </div>\r\n  }\r\n\r\n  if(setTokenBool === true) {\r\n    localStorage.removeItem('accessToken')\r\n  }\r\n\r\n  // console.log('token', localStorage.getItem(\"accessToken\"))\r\n\r\n  /* return (\r\n    <div className=\"app\">\r\n      <TopBar menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\r\n      <Menu menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\r\n      <div className=\"sections\">\r\n        <Intro />\r\n        <Profile />\r\n        <Portfolio />\r\n        <Works />\r\n        <Bpmn />\r\n      </div>\r\n\r\n    </div>\r\n  ); */\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"app\">\r\n        <TopBar menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\r\n        <Menu menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\r\n        <div className=\"sections\">\r\n          <Routes>\r\n            <Route path=\"/\" element={<Intro />} />\r\n            <Route path=\"/profile\" element={<Profile />} />\r\n            <Route path=\"/portfolio\" element={<Portfolio />} />\r\n            <Route path=\"/works\" element={<Works />} />\r\n            <Route path=\"/bpmn/:d\" element={<Bpmn />} />\r\n            <Route path=\"/bpmnModeler\" element={<BpmnModeler />} />\r\n            <Route path=\"/cockpit\" element={<Cockpit />} />\r\n          </Routes>\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}